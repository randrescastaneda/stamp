% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hashing.R
\name{st_sanitize_for_hash}
\alias{st_sanitize_for_hash}
\title{Sanitize object prior to hashing}
\usage{
st_sanitize_for_hash(x)
}
\description{
For tabular data we want hashing to depend only on the data/frame content,
not on volatile data.table internals (e.g. \code{.internal.selfref}) or differing
row name representations. Strategy:
\itemize{
\item If \code{x} is a data.table: coerce to plain data.frame (drops DT internals).
\item If \code{x} is a data.frame (including coerced DT): enforce deterministic
row.names via \code{.set_row_names(NROW(x))}.
\item Record original class in \code{st_original_format} so a loader can restore it.
}
}
\details{
Non-tabular objects are returned unchanged (attribute normalization handles
them subsequently).

NOTE: The returned object is a shallow copy; column data is not duplicated.
}
\keyword{internal}
