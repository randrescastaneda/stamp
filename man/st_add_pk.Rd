% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/schema_pk.R
\name{st_add_pk}
\alias{st_add_pk}
\title{Add or repair primary-key metadata in an artifact sidecar}
\usage{
st_add_pk(path, keys, validate = TRUE, check_unique = FALSE)
}
\arguments{
\item{path}{Path to the artifact file whose sidecar will be updated.
Can be an absolute path or relative path.}

\item{keys}{Character vector of column names to set as the primary key.}

\item{validate}{Logical; when \code{TRUE} validate keys against the on-disk data.}

\item{check_unique}{Logical; when \code{TRUE} assert that the keys uniquely
identify rows in the on-disk data (if \code{validate = TRUE}).}
}
\value{
Invisibly returns the character vector of keys recorded.
}
\description{
Update the artifact sidecar for \code{path} to include primary-key metadata
(\code{pk} element). The artifact file itself is not rewritten. By default the
function validates the provided keys against the current on-disk artifact
(and optionally checks uniqueness). Use \code{validate = FALSE} to skip
validation and perform a pure metadata update.
}
