% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/version_store.R
\name{st_plan_rebuild}
\alias{st_plan_rebuild}
\title{Plan a rebuild of descendants when parents changed}
\usage{
st_plan_rebuild(
  targets,
  depth = Inf,
  include_targets = FALSE,
  mode = c("propagate", "strict")
)
}
\arguments{
\item{targets}{Character vector of artifact paths (parents whose changes
may require downstream recomputes).}

\item{depth}{Integer depth >= 1, or Inf to walk the whole descendant tree.}

\item{include_targets}{Logical; if TRUE and a target itself is stale
(has parents and they advanced), include it at level 0.}
}
\value{
data.frame with columns:
\itemize{
\item level  (0 for targets if included; otherwise 1,2,...)
\item path   (artifact path to rebuild)
\item reason ("parent_changed")
\item latest_version_before (child's current latest version id)
}
}
\description{
Walks the lineage starting from one or more target artifacts and returns
the set of \emph{stale descendants} whose recorded parent versions no longer
match their parents' current latest versions.
}
\details{
Plan rebuilds for descendants of one or more targets.
mode = "propagate" (default): simulate that targets (and any node added) will change,
so their children are scheduled in BFS layers (1,2,3,...).
mode = "strict": only include nodes already stale vs parents' \emph{current} latest.
include_targets: if TRUE, add target rows at level 0.
}
