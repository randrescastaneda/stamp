---
title: "Setup & Options (Milestone 1)"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Setup & Options (Milestone 1)}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Goal
Initialize a project and configure global behavior for **stamp**. These knobs are meant to stay stable.

## Initialize a project

```r
library(stamp)

# Creates internal folders: .stamp/, .stamp/temp/, .stamp/logs/
st_init()               # st_init(root = ".", state_dir = ".stamp")
```

* Default internal directory is `.stamp/`.
* You can change it: `st_init(state_dir = "_stamp")`.

## Options: `st_opts()`

`st_opts()` stores lightweight package options.

* `meta_format`: how sidecar metadata is written/read.

  * `"json"` (default) — human-readable.
  * `"qs2"` — compact, binary.
  * `"both"` — write both; reader prefers JSON.

```r
# View current options
st_opts(.get = TRUE)

# Set sidecar format to JSON + QS2
st_opts(meta_format = "both")

# Read a single option
st_opts("meta_format", .get = TRUE)
```

**Notes**

* All messaging uses **{cli}**.
* All filesystem ops use **{fs}**.
* Internal state is managed with **{rlang}** envs.


